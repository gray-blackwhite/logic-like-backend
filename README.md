# Бэк для тестового задания

## Стэк

Typescript, Express, Prisma.

## Переменные окружения

Пример переменных окружения в файле `.env.example`:
- `PORT`: Число, порт на котором запустится сервер, по-умолчанию 3000
- `HOST`: Строка, хост на котором запустится сервер, по-умолчанию 0.0.0.0
- `VOTE_LIMIT`: Число, лимит голосов для одного IP, по-умолчанию 10
- `DATABASE_URL`: Строка подключения к базе данных. Если указано, будет использоваться postgres. Если нет, будет использоваться in-memory имплементация. Логика приложения в обеих случаях останется одна и та же.

## Особенности реализации.
Вся кодовая база разбита на сетевой слой (контроллер), доменный слой (логика, там ее с палец) и слой данных. Слой данных представлен двумя имплементациями - с базой и без базы, с хранением в памяти. DTO модели не добавлялись, в текущем виде они были бы идентичны доменным моделям (модели).
Имплементация с базой дополнительно содержит простейшую очередь для vote запроса во избежание рейсинга.

## Порядок запуска

1. `$ npm install`
2. `$ npx prisma generate`, опционально, если хотим чтобы решение собралось до запуска миграции.
3. `$ npx prisma migrate dev --name init`, создает базу (требуется `DATABASE_URL` переменная) и выполняет миграцию.
4. `npx prisma db seed`, запускает seed для базы.
5. `$ npm run dev`